<!-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: –ø–ª–∞–Ω –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏: Auth, Tasks, Users, Roles, Logs. -->

## ModuleCore.md üìÅ

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞  
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π Express‚Äëbackend –Ω–∞ Node.js/TypeScript –≤ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ —Å—Ç–∏–ª–µ NestJS, —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (Express, MongoDB, TypeScript), –Ω–æ –ø—Ä–∏–Ω—è–≤ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ feature‚Äë–º–æ–¥—É–ª–∏ (auth, tasks, users, roles, logs), —á—ë—Ç–∫–∏–π —Å–ª–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤, DTO‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏—è, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ DI, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã / guards –¥–ª—è RBAC –∏ audit‚Äë–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤  
```

src/
common/
decorators/
guards/
dto/
error-handler.ts
logger.ts
modules/
auth/
auth.controller.ts
auth.service.ts
auth.dto.ts
auth.guard.ts
tasks/
tasks.controller.ts
tasks.service.ts
tasks.dto.ts
tasks.guard.ts
users/
roles/
logs/
config/
app.ts

```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø–æ–¥—Ö–æ–¥—ã  
- Express + TypeScript, MongoDB —á–µ—Ä–µ–∑ Mongoose  
- –ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (tsyringe –∞–±–æ inversify)  
- class-validator / DTO-–ø–∞–π–ø—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏  
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `@Roles('admin')` –∏–ª–∏ `@Access(2)` + guards, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ `req.user.role/access`  
- AuthService: OTP —á–µ—Ä–µ–∑ Telegram, –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä—É–ø–ø—ã, –≤—ã–¥–∞—á–∞ JWT –∏ CSRF-—Ç–æ–∫–µ–Ω–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ HttpOnly cookie  
- Middleware/interceptor –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫, audit-–ª–æ–≥–∏ (–≤–∫–ª—é—á–∞—è userId –∏ —Å–æ–±—ã—Ç–∏–µ)  
- Prometheus-–º–µ—Ç—Ä–∏–∫–∏ (CSRF –æ—à–∏–±–∫–∏, –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏, –ª–æ–≥–∏–Ω—ã) –∏ endpoint health-check

### –ú–æ–¥—É–ª–∏ –∏ –∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **AuthModule** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram, –≤—ã–¥–∞—á–∞ JWT –∏ CSRF. –§–∞–π–ª—ã: `auth.controller.ts`, `auth.service.ts`, `auth.dto.ts`.
- **TasksModule** ‚Äî CRUD –∑–∞–¥–∞—á –∏ –º–∞—Ä—à—Ä—É—Ç—ã. –§–∞–π–ª—ã: `tasks.controller.ts`, `tasks.service.ts`, `tasks.dto.ts`.
- **UsersModule** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. –§–∞–π–ª—ã: `users.controller.ts`, `users.service.ts`, `users.dto.ts`.
- **RolesModule** ‚Äî –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–æ–ª–∏. –§–∞–π–ª—ã: `roles.controller.ts`, `roles.service.ts`, `roles.dto.ts`.
- **LogsModule** ‚Äî –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π. –§–∞–π–ª—ã: `logs.controller.ts`, `logs.service.ts`, `logs.dto.ts`.

### –≠—Ç–∞–ø—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (Roadmap)  
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ ModuleCore.md  
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π  
3. –°–æ–∑–¥–∞—Ç—å DTO‚Äë–∫–ª–∞—Å—Å—ã –∏ middleware –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏  
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ guards –¥–ª—è RBAC  
5. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (Telegram, JWT, CSRF) –≤ AuthModule  
6. –ü–æ–æ—á–µ—Ä–µ–¥–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ Tasks, Users, Roles –∏ Logs –º–æ–¥—É–ª–∏  
7. –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ Prometheus‚Äë–º–µ—Ç—Ä–∏–∫  
8. –ü–æ–∫—Ä—ã—Ç—å –∫–æ–¥ unit‚Äë –∏ e2e‚Äë—Ç–µ—Å—Ç–∞–º–∏  
9. –û–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API –∏ –ø–ª–∞–≤–Ω—ã–π —Ä–µ–ª–∏–∑

### KPI –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞  
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ CSRF (<1‚ÄØ%)  
- –í—Å–µ POST/PATCH routes –∑–∞—â–∏—â–µ–Ω—ã DTO‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (>95‚ÄØ%)  
- RBAC —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (user –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ –∑–∞–¥–∞—á–∏)  
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ >‚ÄØ80‚ÄØ%  
- –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç userId –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, –≤–∫–ª—é—á–∞—è –ø–æ–ø—ã—Ç–∫–∏ –∞–¥–º–∏–Ω‚Äë–¥–æ—Å—Ç—É–ø–∞



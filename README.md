<!-- Назначение файла: краткое описание возможностей проекта. Основные модули: api, web. -->

# Telegram Task Manager Bot + Mini App

Telegram‑бот и веб‑клиент для учёта задач. Сервер расположен в `apps/api`, клиент — в `apps/web`.

## Возможности

- Создание и редактирование задач.
- Прикрепление файлов с миниатюрами и метаданными.
- Drag-and-drop загрузка нескольких файлов с chunk-upload.
- Антивирусная проверка и журналирование загрузок и скачиваний, лимиты вложений по пользователю.
- Фильтрация задач по значениям через чекбоксы и поиск.
- Админ‑панель с разделом «Файлы».
- Таблицы на React Table: скрытие и перестановка колонок, экспорт CSV/XLSX/PDF, серверная пагинация.
- Безопасность: JWT хранится в cookie, контекст аутентификации содержит только профиль.
- Корневой URL отдаёт сборку SPA, доступ к скрытым файлам запрещён.

## Быстрый старт

```bash
pnpm install
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))" # сгенерируйте SESSION_SECRET и добавьте в .env
./scripts/setup_and_test.sh
pnpm run dev # запуск api и web без таймаута PNPM
```

Сгенерированное значение запишите в `.env` в переменную `SESSION_SECRET` и не коммитьте этот файл.

## Сборка и проверки

```bash
pnpm build       # сборка проекта
pnpm size        # контроль размера бандла
pnpm a11y        # проверка контрастности
pnpm approve-builds  # контроль скриптов зависимостей
./scripts/pre_pr_check.sh  # проверка сборки и запуска перед PR
./scripts/install_bot_deps.sh  # установка зависимостей; при сбоях скачивает pnpm из GitHub
```

Файл `.npmrc` перенаправляет scope `@jsr` на `https://registry.npmjs.org/`,
чтобы установка зависимостей не требовала токена.

Dockerfile копирует каталог `patches` перед установкой зависимостей для применения патчей.

Подробные инструкции см. в [docs/technical_manual.md](docs/technical_manual.md).

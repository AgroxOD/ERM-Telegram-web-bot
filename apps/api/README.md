<!-- Назначение файла: описание Telegram-бота и инструкции по запуску. -->

# Бот управления задачами

Данный модуль представляет Telegram-бота с мини‑приложением для учёта задач. Все сервисы собираются через Docker.

## Структура

- `src/bot` — логика бота
- `src/services` — операции с задачами
- `src/db` — модели MongoDB
- `src/api` — REST API
- `src/auth` — аутентификация
- `web` — исходники мини‑приложения React

## Требования

- Node.js
- npm
- Docker

## Установка

```bash
git clone <URL репозитория>
cd ERM-Telegram-web-bot/bot
npm install # устанавливает зависимости и собирает мини‑приложение
```

Создайте `.env` на основе файла `../.env.example` и задайте `CHAT_ID` через бот @userinfobot.
Если файл `.env` отсутствует, запустите `../scripts/create_env_from_exports.sh` из корня,
чтобы автоматически заполнить переменные из окружения или `../.env.example`.
Скрипт корректно обрабатывает специальные символы в значениях.
При изменении исходников фронтенда выполните `pnpm run build-client`.
Vite собирает интерфейс напрямую в каталог `public`, дополнительное копирование не требуется.

## Запуск

```bash
pnpm run dev # запуск в режиме разработки
# или
npm start
```

## Docker

```bash
docker build -t task-bot .
docker run --env-file ../.env -p 3000:3000 task-bot
```

## Развёртывание

Для Railway укажите рабочую директорию `bot` и переменные из `.env`.
